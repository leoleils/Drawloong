# 烛龙绘影 v1.15.0 发布说明

## 🎉 重大更新：参考生视频功能

我们很高兴地宣布烛龙绘影 v1.15.0 版本正式发布！本次更新带来了全新的**参考生视频**功能，让你可以基于参考视频生成全新的创意内容。

---

## 🆕 新功能

### 参考生视频（Reference Video to Video）

这是本次更新的核心功能，基于阿里云万相2.6-r2v模型实现。

#### 主要特性

1. **多视频参考支持**
   - 支持上传1-2个参考视频
   - 视频格式：mp4、mov
   - 视频时长：2-30秒
   - 文件大小：单个不超过100MB

2. **智能角色识别**
   - 使用 `character1` 指代第一个参考视频中的主体
   - 使用 `character2` 指代第二个参考视频中的主体
   - AI自动识别和迁移角色特征

3. **便捷的上传方式**
   - 支持点击选择文件
   - 支持拖拽上传
   - 自动上传到OSS并获取临时URL（48小时有效）

4. **丰富的生成参数**
   - **分辨率**：720P/1080P多种比例（16:9、9:16、1:1、4:3、3:4）
   - **时长**：5秒或10秒
   - **镜头类型**：单镜头/多镜头
   - **音频**：可选开启/关闭
   - **反向提示词**：排除不想要的内容

#### 使用场景

- 🎭 **角色动画生成**：让角色在不同场景中表演
- 🎨 **视频风格迁移**：将参考视频的风格应用到新场景
- 📹 **虚拟主播制作**：快速生成不同内容的主播视频
- 🛍️ **产品展示**：生成多角度的产品演示视频

#### 快速开始

1. 打开"参考生视频"标签页
2. 上传1-2个参考视频
3. 编写提示词（使用character1/character2指代主体）
4. 配置生成参数
5. 点击"开始生成"

**示例提示词：**
```
character1在沙发上开心地看电影
```

```
character1和character2在咖啡厅里愉快地交谈
```

---

## 🔧 技术改进

### 新增组件

- `ReferenceVideoToVideoWidget`：参考生视频主界面
- `DragDropVideoLabel`：支持拖拽的视频标签组件
- `ReferenceVideoWorker`：异步视频生成工作线程

### API扩展

- `upload_video_and_get_url()`：视频上传到OSS
- `submit_reference_video_to_video()`：提交参考生视频任务
- 完整的OSS文件上传流程

### UI优化

- 新增"参考生视频"标签页
- 优化视频预览体验
- 改进任务进度显示

---

## 📚 文档更新

本次更新包含完整的文档支持：

1. **[参考生视频功能说明](REFERENCE_VIDEO_TO_VIDEO_GUIDE.md)**
   - 完整的功能介绍
   - API调用示例
   - 参数详细说明
   - 错误处理指南

2. **[参考生视频快速入门](REFERENCE_VIDEO_QUICK_START.md)**
   - 新手友好的入门教程
   - 实用技巧和最佳实践
   - 常见问题解答
   - 应用场景示例

3. **[更新日志](CHANGELOG.md)**
   - 详细的版本变更记录

---

## 🎯 应用示例

### 示例1：虚拟主播

**场景**：制作新闻播报视频

**步骤**：
1. 上传主播正面讲话的参考视频
2. 提示词：`character1面带微笑，介绍今天的新闻内容`
3. 选择16:9横屏，10秒时长
4. 生成带音频的视频

### 示例2：产品展示

**场景**：生成产品360度展示视频

**步骤**：
1. 上传产品展示参考视频
2. 提示词：`character1在白色背景下360度旋转展示`
3. 选择1:1方形，5秒时长
4. 生成高清展示视频

### 示例3：双人互动

**场景**：制作对话场景

**步骤**：
1. 上传两个人物的参考视频
2. 提示词：`character1和character2在餐厅里举杯庆祝`
3. 选择多镜头模式
4. 生成电影感互动视频

---

## ⚠️ 注意事项

### 参考视频要求

- ✅ 主体清晰，背景简洁
- ✅ 光线充足，画面清晰
- ✅ 动作自然流畅
- ❌ 避免多人混乱场景
- ❌ 避免快速运动模糊

### 提示词编写

- ✅ 必须使用 `character1`、`character2` 关键字
- ✅ 描述要具体、清晰
- ✅ 包含动作和场景信息
- ❌ 避免过于抽象的描述

### 文件限制

- 视频格式：仅支持mp4、mov
- 文件大小：单个视频≤100MB
- 视频时长：2-30秒
- 临时URL有效期：48小时

---

## 🐛 已知问题

- 视频生成时间较长（通常3-5分钟），请耐心等待
- 临时URL有效期为48小时，建议及时下载保存
- 复杂场景可能需要多次尝试以获得最佳效果

---

## 🔄 升级指南

### 从v1.14.0升级

1. **备份数据**：备份你的工程文件
2. **更新代码**：
   ```bash
   git pull origin main
   ```
3. **安装依赖**：
   ```bash
   pip install -r requirements.txt
   ```
4. **重启应用**：
   ```bash
   ./run.sh  # macOS/Linux
   run.bat   # Windows
   ```

### 全新安装

请参考 [BUILD_GUIDE.md](BUILD_GUIDE.md) 进行完整安装。

---

## 📊 版本对比

| 功能 | v1.14.0 | v1.15.0 |
|------|---------|---------|
| 首帧生视频 | ✅ | ✅ |
| 首尾帧生视频 | ✅ | ✅ |
| 文生图 | ✅ | ✅ |
| 图像编辑 | ✅ | ✅ |
| 参考生视频 | ❌ | ✅ 新增 |
| 视频上传 | ❌ | ✅ 新增 |
| 多角色支持 | ❌ | ✅ 新增 |

---

## 🙏 致谢

感谢所有用户的反馈和建议，你们的支持是我们不断改进的动力！

特别感谢：
- 阿里云DashScope团队提供的强大API支持
- 社区贡献者的宝贵意见
- 测试用户的耐心反馈

---

## 📞 技术支持

如遇到问题，请：

1. 查看 [参考生视频快速入门](REFERENCE_VIDEO_QUICK_START.md)
2. 查阅 [完整功能说明](REFERENCE_VIDEO_TO_VIDEO_GUIDE.md)
3. 检查 [常见问题](REFERENCE_VIDEO_QUICK_START.md#常见问题)
4. 提交 Issue 到 GitHub

---

## 🔮 未来计划

我们正在开发以下功能：

- 🎵 音频生成功能
- 🎬 视频编辑功能
- 🖼️ 批量处理功能
- 🌐 云端同步功能

敬请期待！

---

## 📄 许可证

本项目采用 GPL-3.0 许可证。详见 [LICENSE](LICENSE) 文件。

---

**烛龙绘影团队**  
2025年12月16日
