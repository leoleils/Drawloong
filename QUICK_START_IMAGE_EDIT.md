# 图像编辑功能快速入门

## 🚀 快速开始

### 1. 启动应用
```bash
cd /Users/chenleiyu/Desktop/wanx/qt_client
python3 main.py
```

### 2. 准备工作
- ✅ 确保已配置 API 密钥（设置 -> DASHSCOPE_API_KEY）
- ✅ 创建或打开一个工程
- ✅ 准备好要编辑的图片（放在工程的 inputs 文件夹）

### 3. 使用图像编辑

#### 📸 单图编辑示例

**场景：深度图生成**

1. 点击主窗口的 **"✂️ 图像编辑"** 标签页
2. 编辑模式选择：**🖼️ 单图编辑**
3. 点击 **"添加图片"**，选择 1 张图片
4. 在编辑描述中输入：
   ```
   生成一张符合深度图的图像，遵循以下描述：
   一辆红色的破旧的自行车停在一条泥泞的小路上，
   背景是茂密的原始森林
   ```
5. 生成数量：设置为 **2**
6. 点击 **"开始编辑"**
7. 等待处理完成，结果会显示在右侧画廊

#### 🎭 多图融合示例

**场景：人物换装+姿势迁移**

1. 点击主窗口的 **"✂️ 图像编辑"** 标签页
2. 编辑模式选择：**🎭 多图融合**
3. 点击 **"添加图片"**，依次选择 3 张图片：
   - 图片1：人物照片
   - 图片2：服装照片
   - 图片3：姿势参考照片
4. 在编辑描述中输入：
   ```
   图1中的女生穿着图2中的黑色裙子按图3的姿势坐下
   ```
5. 生成数量：设置为 **2**
6. 反向提示词（可选）：
   ```
   模糊、变形、低质量
   ```
7. 点击 **"开始编辑"**
8. 等待处理完成，结果会显示在右侧画廊

## ⚙️ 参数说明

### 编辑模式
- **🖼️ 单图编辑**：选择 1 张图片
- **🎭 多图融合**：选择 2-3 张图片

### 模型选择
- **qwen-image-edit-plus**（默认）
- **qwen-image-edit-plus-2025-10-30**

### 生成数量
- 范围：1-6 张
- 默认：2 张
- 建议：根据需求选择，数量越多消耗配额越多

### 反向提示词
描述不希望出现的内容，例如：
- 模糊、失真
- 低质量、噪点
- 变形、扭曲
- 多余的手、脚

## 💡 使用技巧

### 提示词编写建议

**单图编辑**
```
# 风格转换
将这张照片转换为水彩画风格，保持原有构图

# 物体替换
把图中的汽车替换成自行车，保持场景不变

# 背景更换
保留主体人物，将背景更换为海滩日落场景
```

**多图融合**
```
# 人物换装
图1的人物穿着图2的服装，保持图1的姿势和背景

# 风格迁移
将图1的内容用图2的艺术风格重新绘制

# 场景融合
将图1的人物放入图2的场景中，姿势参考图3
```

### 最佳实践

1. **图片质量**：使用高质量、清晰的图片
2. **尺寸适中**：推荐 1024x1024 左右
3. **提示词明确**：清楚描述想要的效果
4. **多次尝试**：同一个任务可以多生成几次，选择最好的结果
5. **合理配额**：注意 API 配额消耗

## 📁 文件管理

### 生成的图片位置
```
工程文件夹/
└── inputs/
    ├── image_edit_20251212_143025_1.png
    ├── image_edit_20251212_143025_2.png
    └── ...
```

### 文件命名规则
```
image_edit_[日期]_[时间]_[序号].png
```

## ❓ 常见问题

### Q1: 提示 "请先创建或打开工程"
**A**: 需要先创建一个工程，图片会保存到工程文件夹中

### Q2: 编辑失败，提示 API 错误
**A**: 检查以下几点：
- API 密钥是否正确配置
- 网络连接是否正常
- API 配额是否充足
- 图片格式是否支持

### Q3: 生成的图片不符合预期
**A**: 尝试以下方法：
- 修改提示词，更明确地描述需求
- 添加反向提示词，排除不想要的元素
- 多生成几次，选择最好的结果
- 调整模型参数

### Q4: 可以选择多少张图片？
**A**: 
- 单图编辑：只能选择 1 张
- 多图融合：2-3 张（最多 3 张）

### Q5: 支持哪些图片格式？
**A**: JPG、JPEG、PNG、BMP、TIFF、WEBP、GIF

## 📊 功能对比

| 功能 | 单图编辑 | 多图融合 |
|------|---------|---------|
| 图片数量 | 1 张 | 2-3 张 |
| 适用场景 | 风格转换、物体替换、背景更换 | 人物换装、姿势迁移、场景融合 |
| 提示词复杂度 | 简单 | 中等 |
| 生成时间 | 较快 | 较慢 |

## 🎯 应用场景

### 设计创作
- 快速生成设计稿
- 风格探索
- 概念可视化

### 内容生产
- 社交媒体素材
- 营销物料
- 产品展示图

### 个人娱乐
- 创意照片编辑
- 趣味图片生成
- 艺术创作

## 📝 示例集

### 示例 1：风景照转油画
```
模式：单图编辑
提示词：将这张风景照转换为印象派油画风格，保持原有构图和色调
生成数量：4
```

### 示例 2：服装虚拟试穿
```
模式：多图融合
图片：人物照、服装照
提示词：图1的人物穿着图2的服装，保持自然的穿着效果
生成数量：2
```

### 示例 3：场景替换
```
模式：单图编辑
提示词：保留主体建筑，将背景更换为星空夜景，增加梦幻氛围
反向提示词：白天、阳光、模糊
生成数量：3
```

## 🔗 相关文档

- 完整功能文档：`IMAGE_EDIT_FEATURE.md`
- 更新说明：`IMAGE_EDIT_UPDATE.md`
- 项目主文档：`README.md`

## 💬 反馈与支持

如有问题或建议，请通过以下方式反馈：
- 创建 Issue
- 提交 Pull Request
- 联系开发团队

---

🎉 开始使用图像编辑功能，创造更多精彩作品！
