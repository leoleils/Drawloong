# æç¤ºè¯å±•ç¤ºåŠŸèƒ½è¯´æ˜

## åŠŸèƒ½æ¦‚è¿°

å›¾ç‰‡ç”»å»Šç°åœ¨ä¼šåœ¨æ¯å¼ ç”Ÿæˆçš„å›¾ç‰‡ä¸‹æ–¹å±•ç¤ºåŸå§‹æç¤ºè¯å’ŒAIæ”¹å†™åçš„æç¤ºè¯ï¼Œè®©ç”¨æˆ·æ¸…æ¥šäº†è§£AIæ˜¯å¦‚ä½•ç†è§£å’Œä¼˜åŒ–æç¤ºè¯çš„ã€‚

## æ ¸å¿ƒç‰¹æ€§

### âœ¨ ä¸»è¦åŠŸèƒ½

**1. åŸå§‹æç¤ºè¯å±•ç¤º**
```
ğŸ“ åŸå§‹: ç”¨æˆ·è¾“å…¥çš„æè¿°æ–‡æœ¬
```

**2. æ”¹å†™åæç¤ºè¯å±•ç¤º**
```
âœ¨ æ”¹å†™: AIä¼˜åŒ–åçš„è¯¦ç»†æè¿°
```

**3. æ™ºèƒ½æˆªæ–­**
```
è¶…è¿‡50å­—ç¬¦è‡ªåŠ¨æˆªæ–­å¹¶æ·»åŠ ...
ä¿æŒå¡ç‰‡ç¾è§‚
```

## ç•Œé¢å±•ç¤º

### å›¾ç‰‡å¡ç‰‡ç»“æ„

#### å®Œæ•´å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   â”‚  â”‚
â”‚  â”‚    å›¾ç‰‡ç¼©ç•¥å›¾      â”‚  â”‚
â”‚  â”‚    (200*200)      â”‚  â”‚
â”‚  â”‚                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â”‚
â”‚  text2img_20251212...   â”‚  â† æ–‡ä»¶å
â”‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“ åŸå§‹: é›ªåœ°ï¼Œ   â”‚  â”‚  â† åŸå§‹æç¤ºè¯
â”‚  â”‚ ç™½è‰²å°æ•™å ‚...     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ¨ æ”¹å†™: ä¸€å¹…æç»˜ â”‚  â”‚  â† æ”¹å†™åæç¤ºè¯
â”‚  â”‚ å†¬æ—¥é›ªæ™¯çš„ç”»ä½œ...  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ ·å¼è¯´æ˜

**æ–‡ä»¶åï¼š**
```css
color: #666
font-size: 11px
```

**åŸå§‹æç¤ºè¯ï¼š**
```css
color: #666
font-size: 10px
background: #f8f9fa  /* æµ…ç°è‰²èƒŒæ™¯ */
padding: 3px
border-radius: 3px
```

**æ”¹å†™åæç¤ºè¯ï¼š**
```css
color: #28a745  /* ç»¿è‰²æ–‡å­— */
font-size: 10px
background: #e8f5e9  /* æµ…ç»¿è‰²èƒŒæ™¯ */
padding: 3px
border-radius: 3px
```

### è§†è§‰ç¤ºä¾‹

#### ç¤ºä¾‹1ï¼šå®Œæ•´æç¤ºè¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [å›¾ç‰‡]                 â”‚
â”‚  text2img_123456.png    â”‚
â”‚                         â”‚
â”‚  ğŸ“ åŸå§‹: é›ªåœ°ï¼Œç™½è‰²å°æ•™å ‚ â”‚
â”‚                         â”‚
â”‚  âœ¨ æ”¹å†™: ä¸€å¹…æç»˜å†¬æ—¥é›ªæ™¯ â”‚
â”‚  çš„ç”»ä½œï¼Œç”»é¢ä¸­å¤®çŸ—ç«‹ç€ä¸€  â”‚
â”‚  åº§ç™½è‰²çš„å°æ•™å ‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç¤ºä¾‹2ï¼šé•¿æ–‡æœ¬æˆªæ–­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [å›¾ç‰‡]                 â”‚
â”‚  text2img_123456.png    â”‚
â”‚                         â”‚
â”‚  ğŸ“ åŸå§‹: ä¸€å‰¯å…¸é›…åº„é‡çš„å¯¹è” â”‚
â”‚  æ‚¬æŒ‚äºå…å ‚ä¹‹ä¸­ï¼Œæˆ¿é—´æ˜¯ä¸ªå®‰é™ â”‚
â”‚  å¤å…¸çš„ä¸­å¼å¸ƒç½®ï¼Œæ¡Œå­ä¸Šæ”¾ç€ä¸€ â”‚
â”‚  äº›é’èŠ±ç“·...            â”‚
â”‚                         â”‚
â”‚  âœ¨ æ”¹å†™: ä¸€å‰¯å…¸é›…åº„é‡çš„å¯¹è” â”‚
â”‚  æ‚¬æŒ‚äºä¸­å¼å…å ‚ä¹‹ä¸­ï¼Œå¯¹è”å·¦ä¾§ â”‚
â”‚  ä¹¦å†™"ä¹‰æœ¬ç”ŸçŸ¥äººæœºåŒé“å–„æ€æ–° â”‚
â”‚  "ï¼Œå³ä¾§ä¹¦å†™"é€šäº‘èµ‹æ™ºä¹¾å¤å¯æ•° â”‚
â”‚  é«˜å¿—è¿œ"...            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç¤ºä¾‹3ï¼šåªæœ‰åŸå§‹æç¤ºè¯ï¼ˆé€šä¹‰åƒé—®æ¨¡å‹ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [å›¾ç‰‡]                 â”‚
â”‚  text2img_123456.png    â”‚
â”‚                         â”‚
â”‚  ğŸ“ åŸå§‹: ç§‘æŠ€æ„Ÿæ‰‹æœºè®¾è®¡  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
*æ³¨ï¼šé€šä¹‰åƒé—®æ¨¡å‹å¯èƒ½ä¸è¿”å›æ”¹å†™åçš„æç¤ºè¯*

## æ•°æ®æµç¨‹

### å®Œæ•´æµç¨‹

```
ç”¨æˆ·è¾“å…¥æç¤ºè¯
    â†“
æäº¤ç”Ÿæˆä»»åŠ¡
    â†“
APIå¼‚æ­¥å¤„ç†
    â†“
ä»»åŠ¡å®Œæˆï¼Œè¿”å›ç»“æœ
    â†“
{
  "url": "å›¾ç‰‡URL",
  "orig_prompt": "åŸå§‹æç¤ºè¯",
  "actual_prompt": "æ”¹å†™åæç¤ºè¯"
}
    â†“
ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°
    â†“
æ·»åŠ åˆ°ç”»å»Šï¼ˆå¸¦æç¤ºè¯ä¿¡æ¯ï¼‰
    â†“
æ˜¾ç¤ºï¼šå›¾ç‰‡ + åŸå§‹æç¤ºè¯ + æ”¹å†™åæç¤ºè¯
```

### æ•°æ®ç»“æ„

**Workerä¿¡å·å˜åŒ–ï¼š**
```python
# ä¹‹å‰
finished = pyqtSignal(str, str)  # image_url, output_path

# ç°åœ¨
finished = pyqtSignal(str, str, dict)  # image_url, output_path, prompt_info
```

**æç¤ºè¯ä¿¡æ¯å­—å…¸ï¼š**
```python
prompt_info = {
    'orig_prompt': 'åŸå§‹æç¤ºè¯',
    'actual_prompt': 'æ”¹å†™åçš„æç¤ºè¯'
}
```

**ç”»å»Šå­˜å‚¨ç»“æ„ï¼š**
```python
# ä¹‹å‰
self.images = ['path1', 'path2', 'path3']

# ç°åœ¨
self.images = [
    {
        'path': 'path1',
        'orig_prompt': 'åŸå§‹1',
        'actual_prompt': 'æ”¹å†™1'
    },
    {
        'path': 'path2',
        'orig_prompt': 'åŸå§‹2',
        'actual_prompt': 'æ”¹å†™2'
    }
]
```

## æŠ€æœ¯å®ç°

### 1. APIå“åº”è§£æ

```python
def poll_task_status(self, task_id):
    """è½®è¯¢ä»»åŠ¡çŠ¶æ€ç›´åˆ°å®Œæˆ"""
    # ...è½®è¯¢é€»è¾‘
    
    if task_status == 'SUCCEEDED':
        results = result['output'].get('results', [])
        if results and len(results) > 0:
            result_data = results[0]
            
            # è¿”å›åŒ…å«æç¤ºè¯ä¿¡æ¯çš„å­—å…¸
            return {
                'url': result_data.get('url', ''),
                'orig_prompt': result_data.get('orig_prompt', ''),
                'actual_prompt': result_data.get('actual_prompt', '')
            }
```

### 2. Workerä¿¡å·ä¼ é€’

```python
# æäº¤ä»»åŠ¡ â†’ è½®è¯¢çŠ¶æ€ â†’ ä¸‹è½½å›¾ç‰‡
result = self.poll_task_status(task_id)

image_url = result.get('url')
orig_prompt = result.get('orig_prompt', '')
actual_prompt = result.get('actual_prompt', '')

output_path = self.download_image(image_url)

# æ„å»ºæç¤ºè¯ä¿¡æ¯
prompt_info = {
    'orig_prompt': orig_prompt,
    'actual_prompt': actual_prompt
}

# å‘é€å®Œæˆä¿¡å·ï¼ˆå¸¦æç¤ºè¯ä¿¡æ¯ï¼‰
self.finished.emit(image_url, output_path, prompt_info)
```

### 3. ç”»å»Šå­˜å‚¨

```python
def add_image(self, image_path, orig_prompt='', actual_prompt=''):
    """æ·»åŠ å›¾ç‰‡åˆ°ç”»å»Š"""
    # å­˜å‚¨å›¾ç‰‡å’Œæç¤ºè¯ä¿¡æ¯
    image_info = {
        'path': image_path,
        'orig_prompt': orig_prompt,
        'actual_prompt': actual_prompt
    }
    self.images.insert(0, image_info)
    self.refresh_gallery()
```

### 4. å¡ç‰‡æ¸²æŸ“

```python
def create_image_card(self, image_path, orig_prompt='', actual_prompt=''):
    """åˆ›å»ºå›¾ç‰‡å¡ç‰‡"""
    card = QWidget()
    layout = QVBoxLayout(card)
    
    # å›¾ç‰‡
    image_label = QLabel()
    # ...è®¾ç½®å›¾ç‰‡
    layout.addWidget(image_label)
    
    # æ–‡ä»¶å
    name_label = QLabel(filename)
    layout.addWidget(name_label)
    
    # åŸå§‹æç¤ºè¯
    if orig_prompt:
        orig_label = QLabel(f"ğŸ“ åŸå§‹: {orig_prompt[:50]}...")
        orig_label.setStyleSheet("""
            background: #f8f9fa;
            color: #666;
        """)
        layout.addWidget(orig_label)
    
    # æ”¹å†™åæç¤ºè¯
    if actual_prompt:
        actual_label = QLabel(f"âœ¨ æ”¹å†™: {actual_prompt[:50]}...")
        actual_label.setStyleSheet("""
            background: #e8f5e9;
            color: #28a745;
        """)
        layout.addWidget(actual_label)
    
    return card
```

## ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯1ï¼šä¸‡ç›¸æ¨¡å‹ï¼ˆæœ‰æ”¹å†™ï¼‰

**ç”¨æˆ·è¾“å…¥ï¼š**
```
é›ªåœ°ï¼Œç™½è‰²å°æ•™å ‚ï¼Œæå…‰ï¼Œå†¬æ—¥åœºæ™¯
```

**ç”Ÿæˆç»“æœæ˜¾ç¤ºï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [é›ªæ™¯å›¾ç‰‡]             â”‚
â”‚  text2img_20251212...   â”‚
â”‚                         â”‚
â”‚  ğŸ“ åŸå§‹: é›ªåœ°ï¼Œç™½è‰²å°   â”‚
â”‚  æ•™å ‚ï¼Œæå…‰ï¼Œå†¬æ—¥åœºæ™¯    â”‚
â”‚                         â”‚
â”‚  âœ¨ æ”¹å†™: ä¸€å¹…æç»˜å†¬æ—¥   â”‚
â”‚  é›ªæ™¯çš„ç”»ä½œï¼Œç”»é¢ä¸­å¤®çŸ—ç«‹ â”‚
â”‚  ç€ä¸€åº§ç²¾è‡´çš„ç™½è‰²å°æ•™å ‚ï¼Œ â”‚
â”‚  å¤©ç©ºä¸­ç»šä¸½çš„æå…‰èˆåŠ¨ï¼Œè¥ â”‚
â”‚  é€ å‡ºæ¢¦å¹»èˆ¬çš„å†¬æ—¥æ°›å›´ã€‚ç”» â”‚
â”‚  é¢é‡‡ç”¨å†™å®æ‘„å½±é£æ ¼ï¼Œå…‰çº¿ â”‚
â”‚  æŸ”å’Œï¼Œè‰²å½©é¥±å’Œåº¦é€‚ä¸­ã€‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä»·å€¼ï¼š**
- âœ… ç”¨æˆ·çœ‹åˆ°AIå¦‚ä½•æ‰©å±•æè¿°
- âœ… å­¦ä¹ å¦‚ä½•å†™æ›´å¥½çš„æç¤ºè¯
- âœ… ç†è§£AIçš„ç†è§£æ–¹å¼

### åœºæ™¯2ï¼šé€šä¹‰åƒé—®æ¨¡å‹ï¼ˆå¯èƒ½æ— æ”¹å†™ï¼‰

**ç”¨æˆ·è¾“å…¥ï¼š**
```
ç°ä»£ç®€çº¦çš„æ™ºèƒ½æ‰‹æœºè®¾è®¡
```

**ç”Ÿæˆç»“æœæ˜¾ç¤ºï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [æ‰‹æœºå›¾ç‰‡]             â”‚
â”‚  text2img_20251212...   â”‚
â”‚                         â”‚
â”‚  ğŸ“ åŸå§‹: ç°ä»£ç®€çº¦çš„æ™ºèƒ½ â”‚
â”‚  æ‰‹æœºè®¾è®¡               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¯´æ˜ï¼š**
- å¦‚æœAPIä¸è¿”å›æ”¹å†™æç¤ºè¯ï¼Œåˆ™åªæ˜¾ç¤ºåŸå§‹æç¤ºè¯
- ç•Œé¢è‡ªåŠ¨é€‚é…ï¼Œä¸ä¼šæ˜¾ç¤ºç©ºæ ‡ç­¾

### åœºæ™¯3ï¼šé•¿æ–‡æœ¬æç¤ºè¯

**ç”¨æˆ·è¾“å…¥ï¼š**
```
ä¸€å‰¯å…¸é›…åº„é‡çš„å¯¹è”æ‚¬æŒ‚äºå…å ‚ä¹‹ä¸­ï¼Œæˆ¿é—´æ˜¯ä¸ªå®‰é™å¤å…¸çš„ä¸­å¼å¸ƒç½®ï¼Œæ¡Œå­ä¸Šæ”¾ç€ä¸€äº›é’èŠ±ç“·ï¼Œå¯¹è”ä¸Šå·¦ä¹¦"ä¹‰æœ¬ç”ŸçŸ¥äººæœºåŒé“å–„æ€æ–°"ï¼Œå³ä¹¦"é€šäº‘èµ‹æ™ºä¹¾å¤å¯æ•°é«˜å¿—è¿œ"ï¼Œ æ¨ªæ‰¹"æ™ºå¯é€šä¹‰"
```

**ç”Ÿæˆç»“æœæ˜¾ç¤ºï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [å¯¹è”å›¾ç‰‡]             â”‚
â”‚  text2img_20251212...   â”‚
â”‚                         â”‚
â”‚  ğŸ“ åŸå§‹: ä¸€å‰¯å…¸é›…åº„é‡çš„å¯¹è”æ‚¬æŒ‚äºå…å ‚ä¹‹ä¸­ï¼Œæˆ¿é—´æ˜¯ä¸ª... â”‚
â”‚                         â”‚
â”‚  âœ¨ æ”¹å†™: ä¸€å‰¯å…¸é›…åº„é‡çš„å¯¹è”æ‚¬æŒ‚äºä¸­å¼å…å ‚ä¹‹ä¸­ï¼Œå¯¹è”... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¤„ç†ï¼š**
- è¶…è¿‡50å­—ç¬¦è‡ªåŠ¨æˆªæ–­
- æ·»åŠ çœç•¥å·...
- ä¿æŒå¡ç‰‡æ•´æ´

## ä¼˜åŠ¿åˆ†æ

### ç”¨æˆ·ä½“éªŒæå‡

**1. é€æ˜åº¦**
```
ä¹‹å‰ï¼šåªçœ‹åˆ°å›¾ç‰‡ï¼Œä¸çŸ¥é“AIæ€ä¹ˆç†è§£çš„
ç°åœ¨ï¼šæ¸…æ¥šçœ‹åˆ°AIå¦‚ä½•ä¼˜åŒ–æç¤ºè¯
```

**2. å­¦ä¹ ä»·å€¼**
```
é€šè¿‡å¯¹æ¯”åŸå§‹å’Œæ”¹å†™æç¤ºè¯ï¼š
- å­¦ä¹ å¦‚ä½•å†™æ›´å¥½çš„æç¤ºè¯
- ç†è§£AIçš„ç†è§£æ–¹å¼
- æ”¹è¿›åç»­åˆ›ä½œ
```

**3. è´¨é‡æŠŠæ§**
```
å‘ç°AIç†è§£åå·®ï¼š
- çœ‹æ”¹å†™å†…å®¹æ˜¯å¦ç¬¦åˆé¢„æœŸ
- åŠæ—¶è°ƒæ•´æç¤ºè¯
- é‡æ–°ç”Ÿæˆ
```

### åŠŸèƒ½å¯¹æ¯”

| ç‰¹æ€§ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å |
|------|--------|--------|
| **ä¿¡æ¯å±•ç¤º** | åªæœ‰å›¾ç‰‡ | å›¾ç‰‡+æç¤ºè¯ |
| **é€æ˜åº¦** | â­â­ | â­â­â­â­â­ |
| **å­¦ä¹ ä»·å€¼** | âŒ æ—  | âœ… é«˜ |
| **è´¨é‡æŠŠæ§** | âŒ æ—  | âœ… æœ‰ |
| **ç”¨æˆ·æ»¡æ„åº¦** | â­â­â­ | â­â­â­â­â­ |

## æç¤ºè¯å¯¹æ¯”ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šç®€å•æè¿° â†’ è¯¦ç»†æ‰©å±•

**åŸå§‹ï¼š**
```
ä¸€åªå¯çˆ±çš„çŒ«
```

**æ”¹å†™ï¼š**
```
ä¸€åªå¯çˆ±çš„æ©˜è‰²çŸ­æ¯›çŒ«ï¼Œè¹²ååœ¨æŸ”è½¯çš„å«å­ä¸Šï¼Œçœ¼ç›åœ†æ¶¦æ˜äº®ï¼Œ
æ¯›å‘è“¬æ¾æ•´æ´ï¼Œé˜³å…‰é€è¿‡çª—æˆ·æ´’åœ¨å®ƒèº«ä¸Šï¼Œæ¸©é¦¨çš„å®¤å†…ç¯å¢ƒï¼Œ
é«˜æ¸…æ‘„å½±é£æ ¼ï¼Œæµ…æ™¯æ·±æ•ˆæœã€‚
```

**å­¦ä¹ ï¼š**
- æ·»åŠ é¢œè‰²ã€å“ç§ç­‰å…·ä½“ç‰¹å¾
- è¡¥å……ç¯å¢ƒã€å…‰çº¿ç­‰ç»†èŠ‚
- æŒ‡å®šæ‘„å½±é£æ ¼å’Œæ•ˆæœ

### ç¤ºä¾‹2ï¼šé£æ ¼åŒ–æè¿° â†’ æŠ€æœ¯å‚æ•°

**åŸå§‹ï¼š**
```
è’¸æ±½æœ‹å…‹é£æ ¼çš„æœªæ¥åŸå¸‚
```

**æ”¹å†™ï¼š**
```
ä¸€åº§å……æ»¡è’¸æ±½æœ‹å…‹ç¾å­¦çš„æœªæ¥åŸå¸‚ï¼Œå·¨å¤§çš„é½¿è½®å’Œè’¸æ±½ç®¡é“è£…é¥°å»ºç­‘å¤–ç«‹é¢ï¼Œ
é£è¡Œçš„è’¸æ±½åŠ¨åŠ›é£è‰‡åœ¨ç©ºä¸­ç©¿æ¢­ï¼Œå¤å¤é“œè‰²å’Œé‡‘å±å…‰æ³½ä¸ºä¸»è‰²è°ƒï¼Œ
éœ“è™¹ç¯å…‰ç‚¹ç¼€å…¶ä¸­ï¼ŒçƒŸé›¾ç¼­ç»•è¥é€ ç¥ç§˜æ°›å›´ï¼Œå¹¿è§’é•œå¤´ï¼Œå²è¯—çº§åœºæ™¯ï¼Œ
4Ké«˜æ¸…æ¸²æŸ“ã€‚
```

**å­¦ä¹ ï¼š**
- å…·ä½“åŒ–æŠ½è±¡æ¦‚å¿µ
- æ·»åŠ è§†è§‰å…ƒç´ 
- æŒ‡å®šæŠ€æœ¯å‚æ•°

### ç¤ºä¾‹3ï¼šåœºæ™¯æè¿° â†’ æ„å›¾å…‰çº¿

**åŸå§‹ï¼š**
```
æµ·æ»©æ—¥è½
```

**æ”¹å†™ï¼š**
```
é»„æ˜æ—¶åˆ†çš„æµ·æ»©æ™¯è±¡ï¼Œå¤ªé˜³å³å°†è½å…¥æµ·å¹³çº¿ï¼Œå¤©ç©ºå‘ˆç°å‡ºæ©™çº¢è‰²æ¸å˜ï¼Œ
æµ·æµªè½»æŸ”æ‹æ‰“æ²™æ»©ï¼Œé‡‘è‰²çš„é˜³å…‰åœ¨æ°´é¢ä¸Šåå°„å‡ºç’€ç’¨å…‰èŠ’ï¼Œ
è¿œå¤„å‡ åªæµ·é¸¥é£è¿‡ï¼Œå‰æ™¯ä¸­ç»†è…»çš„æ²™æ»©çº¹ç†æ¸…æ™°å¯è§ï¼Œ
æ¨ªå‘æ„å›¾ï¼Œæš–è‰²è°ƒï¼ŒæŸ”å’Œçš„è‡ªç„¶å…‰ã€‚
```

**å­¦ä¹ ï¼š**
- è¡¥å……æ—¶é—´å’Œæ°›å›´
- æ·»åŠ å‰æ™¯ã€ä¸­æ™¯ã€è¿œæ™¯
- æŒ‡å®šæ„å›¾å’Œå…‰çº¿

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆæœ‰äº›å›¾ç‰‡æ²¡æœ‰æ”¹å†™æç¤ºè¯ï¼Ÿ

**A:** å¯èƒ½çš„åŸå› ï¼š
```
1. æ¨¡å‹å·®å¼‚ï¼š
   - ä¸‡ç›¸æ¨¡å‹é€šå¸¸ä¼šè¿”å›æ”¹å†™æç¤ºè¯
   - é€šä¹‰åƒé—®æ¨¡å‹å¯èƒ½ä¸è¿”å›

2. APIå“åº”ï¼š
   - æŸäº›æƒ…å†µä¸‹APIä¸è¿”å›actual_promptå­—æ®µ
   - è¿™æ˜¯æ­£å¸¸ç°è±¡

3. æ˜¾ç¤ºé€»è¾‘ï¼š
   - å¦‚æœæ²¡æœ‰æ”¹å†™æç¤ºè¯ï¼Œåªæ˜¾ç¤ºåŸå§‹æç¤ºè¯
   - ç•Œé¢ä¼šè‡ªåŠ¨é€‚é…
```

### Q2: æç¤ºè¯è¢«æˆªæ–­äº†æ€ä¹ˆåŠï¼Ÿ

**A:** è®¾è®¡è€ƒè™‘ï¼š
```
å½“å‰é™åˆ¶ï¼š50å­—ç¬¦
åŸå› ï¼šä¿æŒå¡ç‰‡ç¾è§‚ï¼Œé¿å…è¿‡é•¿

æŸ¥çœ‹å®Œæ•´æç¤ºè¯æ–¹æ¡ˆï¼š
1. é¼ æ ‡æ‚¬åœæ˜¾ç¤ºå®Œæ•´å†…å®¹ï¼ˆå¾…å®ç°ï¼‰
2. ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…ï¼ˆå¾…å®ç°ï¼‰
3. æŸ¥çœ‹APIå“åº”æ—¥å¿—
```

### Q3: æ”¹å†™åçš„æç¤ºè¯å¤ªé•¿ï¼Œå½±å“ç†è§£ï¼Ÿ

**A:** è¿™æ˜¯æ­£å¸¸çš„ï¼š
```
AIä¼šå°†ç®€çŸ­æè¿°æ‰©å±•ä¸ºè¯¦ç»†æè¿°ï¼š
- æ·»åŠ è§†è§‰ç»†èŠ‚
- è¡¥å……æŠ€æœ¯å‚æ•°
- æ˜ç¡®é£æ ¼å’Œæ„å›¾

å»ºè®®ï¼š
- å…³æ³¨å…³é”®æ‰©å±•å†…å®¹
- å­¦ä¹ å“ªäº›å…ƒç´ è¢«å¼ºè°ƒ
- åº”ç”¨åˆ°ä¸‹æ¬¡åˆ›ä½œ
```

### Q4: èƒ½å¦è‡ªå®šä¹‰æˆªæ–­é•¿åº¦ï¼Ÿ

**A:** å½“å‰å›ºå®šä¸º50å­—ç¬¦ï¼š
```python
# ä»£ç ä½ç½®
if len(orig_prompt) > 50:
    display_text = f"{orig_prompt[:50]}..."
else:
    display_text = orig_prompt
```

**è‡ªå®šä¹‰æ–¹å¼ï¼š**
```python
# å¯ä»¥ä¿®æ”¹æ•°å­—50ä¸ºå…¶ä»–å€¼
TRUNCATE_LENGTH = 100  # è‡ªå®šä¹‰é•¿åº¦
```

## æŠ€æœ¯è¦ç‚¹

### å‘åå…¼å®¹

**ä¿¡å·å¤„ç†ï¼š**
```python
# æ—§çš„æ§½å‡½æ•°ä¼šæ”¶åˆ°3ä¸ªå‚æ•°
def on_generation_finished(self, image_url, output_path, prompt_info):
    # å³ä½¿prompt_infoä¸ºç©ºä¹Ÿä¸ä¼šå‡ºé”™
    orig = prompt_info.get('orig_prompt', '')
    actual = prompt_info.get('actual_prompt', '')
```

**é»˜è®¤å‚æ•°ï¼š**
```python
def add_image(self, image_path, orig_prompt='', actual_prompt=''):
    # å…¼å®¹æ—§è°ƒç”¨æ–¹å¼
    # self.add_image(path) ä»ç„¶æœ‰æ•ˆ
```

### æ€§èƒ½ä¼˜åŒ–

**å†…å­˜å ç”¨ï¼š**
```
æ¯ä¸ªæç¤ºè¯ä¿¡æ¯ï¼š
- orig_prompt: ~100-500å­—èŠ‚
- actual_prompt: ~500-2000å­—èŠ‚
- æ€»è®¡: <3KB per image

100å¼ å›¾ç‰‡: <300KB
å½±å“å¯å¿½ç•¥
```

**æ¸²æŸ“æ€§èƒ½ï¼š**
```
é¢å¤–ç»„ä»¶ï¼š
- 2ä¸ªQLabelï¼ˆæç¤ºè¯ï¼‰
- æ ·å¼è¡¨
- å¸ƒå±€è°ƒæ•´

å½±å“ï¼š
- å•ä¸ªå¡ç‰‡æ¸²æŸ“æ—¶é—´å¢åŠ <5ms
- 100å¼ å›¾ç‰‡æ€»å¢åŠ <500ms
- ç”¨æˆ·æ— æ„ŸçŸ¥
```

## å‡çº§æ€»ç»“

### âœ… æ ¸å¿ƒæ”¹è¿›

1. **å±•ç¤ºåŸå§‹æç¤ºè¯** - ç”¨æˆ·è¾“å…¥çš„å†…å®¹
2. **å±•ç¤ºæ”¹å†™æç¤ºè¯** - AIä¼˜åŒ–åçš„å†…å®¹
3. **æ™ºèƒ½æˆªæ–­** - ä¿æŒç•Œé¢ç¾è§‚
4. **æ ·å¼åŒºåˆ†** - åŸå§‹ï¼ˆç°è‰²ï¼‰vs æ”¹å†™ï¼ˆç»¿è‰²ï¼‰
5. **è‡ªåŠ¨é€‚é…** - æ— æç¤ºè¯æ—¶ä¸æ˜¾ç¤º

### ğŸ“Š æ•ˆæœå¯¹æ¯”

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å |
|------|--------|--------|
| **ä¿¡æ¯å®Œæ•´åº¦** | â­â­ | â­â­â­â­â­ |
| **é€æ˜åº¦** | â­â­ | â­â­â­â­â­ |
| **å­¦ä¹ ä»·å€¼** | â­ | â­â­â­â­â­ |
| **ç”¨æˆ·æ»¡æ„åº¦** | â­â­â­ | â­â­â­â­â­ |

### ğŸ¯ ç”¨æˆ·ä»·å€¼

- âœ… **äº†è§£AIç†è§£** - çœ‹åˆ°AIå¦‚ä½•è§£ææç¤ºè¯
- âœ… **å­¦ä¹ ä¼˜åŒ–** - å¯¹æ¯”åŸå§‹å’Œæ”¹å†™ï¼Œå­¦ä¹ æŠ€å·§
- âœ… **è´¨é‡æŠŠæ§** - å‘ç°ç†è§£åå·®ï¼ŒåŠæ—¶è°ƒæ•´
- âœ… **æå‡æ•ˆç‡** - å‡å°‘åå¤å°è¯•ï¼Œä¸€æ¬¡æˆåŠŸ

---

**ç‰ˆæœ¬**: v1.11.0  
**æ›´æ–°æ—¥æœŸ**: 2025-12-12  
**æ”¹è¿›å†…å®¹**: æç¤ºè¯å±•ç¤ºåŠŸèƒ½

**é€æ˜å±•ç¤ºï¼Œå­¦ä¹ æˆé•¿ï¼** ğŸ“âœ¨
